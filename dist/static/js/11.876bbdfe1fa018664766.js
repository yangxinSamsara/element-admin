webpackJsonp([11],{N8Ml:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),o={data:function(){return{tableData:[],page:{curPage:1,total:0,pageSize:5,pageSizes:[5,10,15,20]},formLabelWidth:"150px",dialogFormVisible:!1,deleteVisible:!1,dialogForm:{name:"",date:"",address:""},selectProvince:"",idx:-1,provinces:[{id:1,name:"江西省"},{id:2,name:"广东省"},{id:3,name:"四川省"},{id:4,name:"吉林省"},{id:5,name:"海外"},{id:6,name:"黑龙江省"}]}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.$axios.get("../static/table.json").then(function(t){if(200==t.status){var a=t.data.list;e.tableData=t.data.list,e.page.total=Number(t.data.total),localStorage.setItem("list",i()(a))}}).catch(function(e){console.log(e)})},handleEdit:function(e,t){this.idx=e,this.dialogForm={name:t.name,date:t.date,address:t.address},this.dialogFormVisible=!0},saveEdit:function(){this.$set(this.tableData,this.idx,this.dialogForm),this.dialogFormVisible=!1,this.$message({type:"success",message:"修改第"+this.idx+"1行数据成功"})},handleDelete:function(e,t){this.idx=e,this.deleteVisible=!0},deleteConfirm:function(){this.tableData.splice(this.idx,1),this.$message({type:"success",message:"删除成功"}),this.deleteVisible=!1},searchProvince:function(){for(var e=JSON.parse(localStorage.getItem("list")),t=this.selectProvince,a=[],l=0;l<e.length;l++)e[l].address.split(" ")[0]==t&&a.push(e[l]);this.tableData=a},handSizeChange:function(e){this.page.pageSize=e},handCurrentChange:function(e){this.page.curPage=e}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"tools"},[a("span",[e._v("筛选：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择省份"},on:{change:e.searchProvince},model:{value:e.selectProvince,callback:function(t){e.selectProvince=t},expression:"selectProvince"}},e._l(e.provinces,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("el-table",{attrs:{border:"",stripe:"",data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"姓名"}},[a("span",[e._v(e._s(t.row.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"出生日期"}},[a("span",[e._v(e._s(t.row.date))])]),e._v(" "),a("el-form-item",{attrs:{label:"居住地址"}},[a("span",[e._v(e._s(t.row.address))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center",label:"出生日期",prop:"date"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"居住地址",prop:"address"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{total:e.page.total,"current-page":e.page.curPage,"page-size":e.page.pageSize,"page-sizes":e.page.pageSizes,layout:"total, -> , sizes, prev, pager, next"},on:{"current-change":e.handCurrentChange,"size-change":e.handSizeChange}}),e._v(" "),a("el-dialog",{attrs:{title:"编辑信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.dialogForm}},[a("el-form-item",{attrs:{label:"姓名：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期：","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.dialogForm.date,callback:function(t){e.$set(e.dialogForm,"date",t)},expression:"dialogForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"居住地址：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.dialogForm.address,callback:function(t){e.$set(e.dialogForm,"address",t)},expression:"dialogForm.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.deleteVisible,width:"30%"},on:{"update:visible":function(t){e.deleteVisible=t}}},[a("div",{staticClass:"delete-tooltip"},[e._v("确定要删除吗？")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteConfirm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var n=a("C7Lr")(o,s,!1,function(e){a("uIOF")},"data-v-631102ea",null);t.default=n.exports},uIOF:function(e,t){}});
//# sourceMappingURL=11.876bbdfe1fa018664766.js.map